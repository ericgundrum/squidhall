<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<!-- 
		This is the Squid Hall experiment page. It should be the same as the
		production page, but with extra debug capabilities and the ability
		to add experimental code before and after the world is built.
	-->
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Squid Hall Experiments</title>
		<link rel="stylesheet" type="text/css" href="css/squidhall.css">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;800&display=swap" rel="stylesheet">
		
		<!-- SCRIPTS START -->

		<!-- Babylon.js support libraries START -->

		<!-- Local copies so we control features.-->
		<script src="libs/babylonjs/babylon.js"></script>
		<script src="libs/babylonjs/babylonjs.proceduralTextures.min.js"></script>
		<script src="libs/babylonjs/babylonjs.materials.min.js"></script>
		<script src="libs/babylonjs/loaders/babylonjs.loaders.min.js"></script>

		<!-- CDN for production and final testing.
		<script src="https://cdn.babylonjs.com/babylon.js"></script>
		<script src="https://cdn.babylonjs.com/babylonjs.proceduralTextures.min.js"></script>
		<script src="https://cdn.babylonjs.com/babylonjs.materials.min.js"></script>
		<script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
		-->

		<!-- Babylon.js support libraries END -->

		<!-- Other libraries START -->
		<!-- Other libraries END -->

		<!-- Squidspace START -->
		<script src="libs/squidspace.js"></script>
		<script src="libs/squidmods/squidcommon.js"></script>
		<!-- DO NOT INCLUDE 'squiddebug.js' FOR PRODUCTION! -->
		<script src="libs/squidmods/squiddebug.js"></script>
		<!-- Squidspace END -->

		<!-- Squid Hall START -->
		<script src="libs/squidhall.js"></script>
		<!-- DO NOT INCLUDE 'squidhalldebug.js' FOR PRODUCTION! -->
		<script src="libs/squidhalldebug.js"></script>
		<!-- World END -->

		<!-- World START -->
		<script src="libs/modules/world.js"></script>
		<script src="libs/modules/hall.js"></script>
		<script src="libs/modules/furniture.js"></script>
		<script src="libs/modules/content.js"></script>
		<!-- World END -->

		<!-- SCRIPTS END -->
	</head>
	<body>
		
		<div id="toolBar">
			<a onclick="showCntrlPanelPopup()" href="#">&#9776;</a> 
			<span id="fpsLabel"></span>
		</div>

		<div id="mPopupBox" class="mpopup">
		    <div class="mpopup-content">
		        <div class="mpopup-head">
		            <span id="mPopupBox-close" class="mpopup-close">x</span>
		            <h2 id="mpopup-title">Simple Modal Popup</h2>
		        </div>
		        <div class="mpopup-main" id="mpopup-text">
		        </div>
		        <div class="mpopup-foot" id="mpopup-link"></div>
		    </div>
		</div>

		<div id="mCtrlPnl" class="mpopup">
		    <div class="mpopup-content">
		        <div class="mpopup-head">
		            <span id="mCtrlPnl-close" class="mpopup-close">x</span>
		            <h2 id="mpopup-title">Control Panel</h2>
		        </div>
		        <div class="mpopup-main" id="mCtrlPnl-Tab1">
		            <p><input id="mAudioCB" type="checkbox" onchange="audioCkbox(this)" checked/> Play Audio</p>
					<!-- DEBUG-SPECIFIC MARKUP - Do not use for production. -->
		            <p><input type="checkbox" onchange="flyCkbox(this)"/> Fly</p>
		            <p><input type="checkbox" onchange="inspctCkbox(this)"/> Show Inspector</p>
		            <p><input type="checkbox" onchange="identCkbox(this)"/> Find and Identify Objects</p>
					<span id="ctrl-searchbox" style="display: none;">
			            <p>Click on an object in the space to identify it. Double click on an object name in the list below to find it in the space. Click off the Find/Identify checkbox to hide labels and the list.</p>
						<p><select id="searchbox" size=12 ondblclick="findObject(this.value)"></select></p>
					</span>
					<!-- DEBUG-SPECIFIC MARKUP END -->
		        </div>
				<div class="mpopup-foot"></div>
		    </div>
		</div>

		<canvas id="renderCanvas" touch-action="none"></canvas>

<script>
//<![CDATA[
	
	/** This is for experimental code executed before the buildWorld() call.
	 */
	var beforeBuildExperiment = function(scene) {
		console.log("beforeBuildExperiment()");
	}
	
	/** This is for experimental code executed after the buildWorld() call.
	 */
	var afterBuildExperiment = function(scene) {
		console.log("afterBuildExperiment()");
	}
	
	// Here's where we do the magicâ€¦
	SquidHall.makeWorld([hall, furniture]);
//]]>
</script>
	</body>
</html>
